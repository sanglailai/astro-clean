---
title: 기본형 데이터와 참조형 데이터를 알아야 하는 이유 2. 부제 JS는 기본형,참조형 모두 힙에 할당된다.
author: Hyunsu Joo
pubDatetime: 2024-03-29T15:33:05.569Z
slug: js-async-promise
featured: false
draft: true
ogImage: /src/assets/images/js_closure.png
tags:
  - JavaScript
description: 이 글은 1편 '기본형 데이터와 참조형 데이터를 알아야 하는 이유'에 대한 후속편입니다.Java나 C, C++ 언어에서는 기본형은 스택에, 참조형은 힙에 들어간다고 알고 있고, JS 또한 기본형은 스택, 참조형은 힙에 할당된다고 주장하는 글들이 많습니다. 그렇게 알고 있었습니다.
---

## callback의 한계점 인식 - 비동기는 어렵다

기술은 항상 더 나은 기술을 적용하면서 발전한다.
비동기처리의 초기 기술인 callback() 도 분명 한계가 있었고, 그래서 더 나은 비동기처리가 필요했었을 것이다.
callback은 어떤 점이 힘들었을까?  
그리고 Promise는 어떤 점을 개선했을까?

> Promise는 순차 실행 흐름을 구현하기 위해 쉽게 연결할 수 있으며 다른 객체들 처럼 전달할 수 있다.

순차 실행 흐름은 왜 필요했을까?
코드는 위에서 아래로 순차적으로 실행 된다. 코드를 읽는 눈, 엔진도 그렇게 따라간다. 그런데 콜백함수를 넘겨 주는 부분에서 실행 흐름이 마치 다른 경로를 따라가는 것 같다.
엔진은 백그라운드에서 비동기 함수를 처리해야 하고 메인 스레드는 원래 하던 것처럼 위에서 아래로 코드를 실행 해야 한다.
이 부분을 다루는게 쉽진 않다. 순차적이지 않기 때문이다.

코드를 짜는 우리는 순차적인 것에 익숙하니 Promise도 최대한 동기적으로 시도한 결과라고 생각한다.

callback은 비동기를 처리하는 함수로서 비동기 처리가 끝나면 callback 함수를 호출하는데, 이 callback 함수를 여러번 중첩하게 되면 callback hell이 발생한다.
이 코드를 보게 되면 특정 동작에서 이슈가 나서 수정을 해야 한다면 어디를 수정할지 알아채기가 과연 쉬울까?

## async await 에서
